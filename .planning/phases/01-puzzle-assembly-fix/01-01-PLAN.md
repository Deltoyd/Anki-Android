---
phase: 01-puzzle-assembly-fix
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tl.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tr.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_bl.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_br.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top_1.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top_2.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom_1.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom_2.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left_1.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left_2.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right_1.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right_2.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle_1.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle_2.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right.png
  - AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle.png
autonomous: true

must_haves:
  truths:
    - "All 14 new gray gradient PNG assets exist in drawable-nodpi/ with correct Android-compliant naming"
    - "Old 9 puzzle piece PNGs are removed from drawable-nodpi/"
    - "No other code references the deleted old asset names (puzzle_border_top, puzzle_border_bottom, puzzle_border_left, puzzle_border_right, puzzle_middle without variant suffix)"
  artifacts:
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tl.png"
      provides: "Top-left corner piece (new gray gradient)"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tr.png"
      provides: "Top-right corner piece (new gray gradient)"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_bl.png"
      provides: "Bottom-left corner piece (new gray gradient)"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_br.png"
      provides: "Bottom-right corner piece (new gray gradient)"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top_1.png"
      provides: "Top border variant 1"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top_2.png"
      provides: "Top border variant 2"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom_1.png"
      provides: "Bottom border variant 1"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom_2.png"
      provides: "Bottom border variant 2"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left_1.png"
      provides: "Left border variant 1"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left_2.png"
      provides: "Left border variant 2"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right_1.png"
      provides: "Right border variant 1"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right_2.png"
      provides: "Right border variant 2"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle_1.png"
      provides: "Interior variant 1"
    - path: "AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle_2.png"
      provides: "Interior variant 2"
  key_links:
    - from: "Source PNGs at /Users/rolandharper/Projects/Ikasi/Puzzle-shapes/New-gray-radient-puzzle/"
      to: "AnkiDroid/src/main/res/drawable-nodpi/"
      via: "cp with rename (hyphens to underscores, add puzzle_ prefix)"
      pattern: "puzzle_(corner|border|middle)_"
---

<objective>
Replace the 9 old puzzle piece PNG assets with 14 new gray gradient pieces in the Android drawable-nodpi resource directory.

Purpose: The new assets provide 2 variants for each border and interior piece type, enabling proper tab/hole interlocking when pieces alternate in a checkerboard pattern. The 4 corner pieces are also replaced with new gray gradient versions.

Output: 14 new PNG files in drawable-nodpi/ with Android-compliant naming, 9 old PNG files removed.
</objective>

<execution_context>
@/Users/rolandharper/.claude/get-shit-done/workflows/execute-plan.md
@/Users/rolandharper/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-puzzle-assembly-fix/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Copy 14 new puzzle piece PNGs with Android-compliant naming</name>
  <files>
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tl.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tr.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_bl.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_br.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top_1.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top_2.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom_1.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom_2.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left_1.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left_2.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right_1.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right_2.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle_1.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle_2.png
  </files>
  <action>
Copy 14 PNG files from the source directory to drawable-nodpi/, renaming with Android-compliant names (underscores, lowercase, puzzle_ prefix). The 4 corner files overwrite existing files with the same name.

Source directory: /Users/rolandharper/Projects/Ikasi/Puzzle-shapes/New-gray-radient-puzzle/

Exact mapping (source -> destination in AnkiDroid/src/main/res/drawable-nodpi/):
- top-left-corner.png -> puzzle_corner_tl.png
- top-right-corner.png -> puzzle_corner_tr.png
- bottom-left-corner.png -> puzzle_corner_bl.png
- bottom-right-corner.png -> puzzle_corner_br.png
- top-middle-1.png -> puzzle_border_top_1.png
- top-middle-2.png -> puzzle_border_top_2.png
- bottom-middle-1.png -> puzzle_border_bottom_1.png
- bottom-middle-2.png -> puzzle_border_bottom_2.png
- left-middle-1.png -> puzzle_border_left_1.png
- left-middle-2.png -> puzzle_border_left_2.png
- right-middle-1.png -> puzzle_border_right_1.png
- right-middle-2.png -> puzzle_border_right_2.png
- only-middle.png -> puzzle_middle_1.png
- only-middle-2.png -> puzzle_middle_2.png

Use cp commands for each file. Do NOT use mv (source files belong to user's asset project).
  </action>
  <verify>
Run: ls -la AnkiDroid/src/main/res/drawable-nodpi/puzzle_*.png | wc -l
Expected: 14 files (4 corners + 8 borders with variants + 2 middles with variants)

Run: ls AnkiDroid/src/main/res/drawable-nodpi/puzzle_*.png
Verify all 14 expected names are present: puzzle_corner_{tl,tr,bl,br}.png, puzzle_border_{top,bottom,left,right}_{1,2}.png, puzzle_middle_{1,2}.png

Run: file AnkiDroid/src/main/res/drawable-nodpi/puzzle_corner_tl.png
Verify output shows PNG image data (confirming valid PNG copy).
  </verify>
  <done>All 14 new gray gradient PNG files exist in drawable-nodpi/ with correct Android-compliant names. Corner files overwrite old versions with new gray gradient images.</done>
</task>

<task type="auto">
  <name>Task 2: Remove old puzzle piece PNGs that no longer have matching code references</name>
  <files>
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right.png
    AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle.png
  </files>
  <action>
Delete the 5 old PNG files that have no variant suffix (the 4 old corner files were already overwritten by Task 1 with new gray gradient versions).

Files to delete:
- AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_top.png
- AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_bottom.png
- AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_left.png
- AnkiDroid/src/main/res/drawable-nodpi/puzzle_border_right.png
- AnkiDroid/src/main/res/drawable-nodpi/puzzle_middle.png

These files are only referenced in PaintingPuzzleView.kt (confirmed by grep). Plan 02 will update the code references to point to the new variant-suffixed names. The old no-variant names will no longer be needed.

Use rm for each file. Verify each file is gone after deletion.
  </action>
  <verify>
Run: ls AnkiDroid/src/main/res/drawable-nodpi/puzzle_*.png
Expected: Exactly 14 files remaining -- the 4 corners and 10 variant files (no puzzle_border_top.png, puzzle_border_bottom.png, puzzle_border_left.png, puzzle_border_right.png, or puzzle_middle.png)

Run: ls AnkiDroid/src/main/res/drawable-nodpi/puzzle_*.png | wc -l
Expected: 14
  </verify>
  <done>Old 5 no-variant border and middle PNGs deleted. drawable-nodpi/ contains exactly 14 puzzle piece files: 4 corners + 8 border variants + 2 middle variants.</done>
</task>

</tasks>

<verification>
1. Exactly 14 puzzle PNG files exist in drawable-nodpi/:
   - puzzle_corner_tl.png, puzzle_corner_tr.png, puzzle_corner_bl.png, puzzle_corner_br.png
   - puzzle_border_top_1.png, puzzle_border_top_2.png
   - puzzle_border_bottom_1.png, puzzle_border_bottom_2.png
   - puzzle_border_left_1.png, puzzle_border_left_2.png
   - puzzle_border_right_1.png, puzzle_border_right_2.png
   - puzzle_middle_1.png, puzzle_middle_2.png
2. No old no-variant files remain (puzzle_border_top.png, puzzle_border_bottom.png, puzzle_border_left.png, puzzle_border_right.png, puzzle_middle.png)
3. All files are valid PNG images
</verification>

<success_criteria>
- 14 PNG files with correct naming in drawable-nodpi/
- 0 old no-variant border/middle PNG files remaining
- All files are valid PNGs (not corrupt from copy)
</success_criteria>

<output>
After completion, create `.planning/phases/01-puzzle-assembly-fix/01-01-SUMMARY.md`
</output>
